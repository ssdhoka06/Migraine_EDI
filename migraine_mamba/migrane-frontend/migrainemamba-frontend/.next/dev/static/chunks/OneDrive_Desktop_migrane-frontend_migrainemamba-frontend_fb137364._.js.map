{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ragini%20Pawar/OneDrive/Desktop/migrane-frontend/migrainemamba-frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n\r\nimport axios from 'axios';\r\nimport { OnboardingData, DailyLogData, PredictionResponse } from './types';\r\n\r\n// Change this to your backend URL when ready\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api/v1';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// API Functions\r\nexport const apiClient = {\r\n  // Onboarding\r\n  async submitOnboarding(data: OnboardingData) {\r\n    const response = await api.post('/onboarding', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Daily Log\r\n  async submitDailyLog(data: DailyLogData) {\r\n    const response = await api.post('/log/daily', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get Prediction\r\n  async getPrediction(userId: string, date?: string) {\r\n    const params = date ? { date } : {};\r\n    const response = await api.get<PredictionResponse>(`/predict/${userId}`, { params });\r\n    return response.data;\r\n  },\r\n\r\n  // Get user's log history\r\n  async getLogHistory(userId: string, limit: number = 30) {\r\n    const response = await api.get(`/logs/${userId}?limit=${limit}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default api;"],"names":[],"mappings":"AAAA,aAAa;;;;;;;AAMQ;AAJrB;;AAGA,6CAA6C;AAC7C,MAAM,eAAe,sPAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAExD,MAAM,MAAM,8NAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,YAAY;IACvB,aAAa;IACb,MAAM,kBAAiB,IAAoB;QACzC,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,eAAe;QAC/C,OAAO,SAAS,IAAI;IACtB;IAEA,YAAY;IACZ,MAAM,gBAAe,IAAkB;QACrC,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,cAAc;QAC9C,OAAO,SAAS,IAAI;IACtB;IAEA,iBAAiB;IACjB,MAAM,eAAc,MAAc,EAAE,IAAa;QAC/C,MAAM,SAAS,OAAO;YAAE;QAAK,IAAI,CAAC;QAClC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAqB,CAAC,SAAS,EAAE,QAAQ,EAAE;YAAE;QAAO;QAClF,OAAO,SAAS,IAAI;IACtB;IAEA,yBAAyB;IACzB,MAAM,eAAc,MAAc,EAAE,QAAgB,EAAE;QACpD,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,EAAE,OAAO,OAAO,EAAE,OAAO;QAC/D,OAAO,SAAS,IAAI;IACtB;AACF;uCAEe"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ragini%20Pawar/OneDrive/Desktop/migrane-frontend/migrainemamba-frontend/app/onboarding/page.tsx"],"sourcesContent":["// app/onboarding/page.tsx\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { apiClient } from '@/lib/api';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function OnboardingPage() {\r\n  const router = useRouter();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const { register, handleSubmit, watch, setValue, formState: { errors } } = useForm({\r\n    defaultValues: {\r\n      gender: 'F' as 'M' | 'F',\r\n      age: 30,\r\n      height: 165,\r\n      weight: 60,\r\n      attacks_per_month: 2,\r\n      location_city: '',\r\n      has_menstrual_cycle: false,\r\n      cycle_start_day: '',\r\n    },\r\n  });\r\n\r\n  const gender = watch('gender');\r\n  const height = watch('height');\r\n  const weight = watch('weight');\r\n  const hasMenstrualCycle = watch('has_menstrual_cycle');\r\n\r\n  // Calculate BMI\r\n  const bmi = height && weight ? (weight / ((height / 100) ** 2)).toFixed(1) : '0.0';\r\n\r\n  const onSubmit = async (data: any) => {\r\n    setIsSubmitting(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const payload = {\r\n        gender: data.gender,\r\n        age: parseInt(data.age),\r\n        height: parseFloat(data.height),\r\n        weight: parseFloat(data.weight),\r\n        bmi: parseFloat(bmi),\r\n        attacks_per_month: parseInt(data.attacks_per_month),\r\n        location_city: data.location_city,\r\n        has_menstrual_cycle: data.has_menstrual_cycle,\r\n        cycle_start_day: data.has_menstrual_cycle && data.cycle_start_day\r\n          ? data.cycle_start_day\r\n          : undefined,\r\n      };\r\n\r\n      console.log('Submitting onboarding data:', payload);\r\n\r\n      const response = await apiClient.submitOnboarding(payload);\r\n\r\n      // Store user_id in localStorage\r\n      if (response.user_id) {\r\n        localStorage.setItem('user_id', response.user_id);\r\n        alert('‚úÖ Profile created! Let\\'s start tracking your data.');\r\n        router.push('/dashboard');\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Failed to submit onboarding:', err);\r\n      setError(\r\n        err.response?.data?.message ||\r\n          'Failed to create profile. Please try again.'\r\n      );\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen py-12 px-4\">\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4\">\r\n            Welcome to MigraineMamba\r\n          </h1>\r\n          <p className=\"text-gray-600 text-lg\">\r\n            Let's set up your profile to start predicting migraine attacks\r\n          </p>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n          {/* Basic Info */}\r\n          <section className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n            <h2 className=\"text-xl font-semibold mb-6 text-gray-800\">\r\n              üë§ Basic Information\r\n            </h2>\r\n\r\n            <div className=\"space-y-4\">\r\n              {/* Gender */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                  Gender\r\n                </label>\r\n                <div className=\"flex gap-4\">\r\n                  <label className=\"flex items-center cursor-pointer bg-gray-50 px-6 py-3 rounded-lg hover:bg-gray-100 transition\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"F\"\r\n                      {...register('gender', { required: true })}\r\n                      className=\"mr-3 w-4 h-4\"\r\n                    />\r\n                    <span>Female</span>\r\n                  </label>\r\n                  <label className=\"flex items-center cursor-pointer bg-gray-50 px-6 py-3 rounded-lg hover:bg-gray-100 transition\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"M\"\r\n                      {...register('gender', { required: true })}\r\n                      className=\"mr-3 w-4 h-4\"\r\n                    />\r\n                    <span>Male</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Age */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Age\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  {...register('age', { required: true, min: 1, max: 120 })}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"30\"\r\n                />\r\n              </div>\r\n\r\n              {/* Height */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Height (cm)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  {...register('height', { required: true, min: 50, max: 250 })}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"165\"\r\n                />\r\n              </div>\r\n\r\n              {/* Weight */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Weight (kg)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  {...register('weight', { required: true, min: 20, max: 300 })}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"60\"\r\n                />\r\n              </div>\r\n\r\n              {/* BMI Display */}\r\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Calculated BMI: <span className=\"font-semibold text-blue-600 text-lg\">{bmi}</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Migraine History */}\r\n          <section className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n            <h2 className=\"text-xl font-semibold mb-6 text-gray-800\">\r\n              ü§ï Migraine History\r\n            </h2>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                How many migraine attacks do you typically have per month?\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                {...register('attacks_per_month', { required: true, min: 0 })}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                placeholder=\"2\"\r\n              />\r\n            </div>\r\n          </section>\r\n\r\n          {/* Location */}\r\n          <section className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n            <h2 className=\"text-xl font-semibold mb-6 text-gray-800\">\r\n              üìç Location\r\n            </h2>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                City (for weather data)\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                {...register('location_city', { required: true })}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                placeholder=\"e.g., New York, London, Tokyo\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-2\">\r\n                We use your location to track weather patterns that may trigger migraines\r\n              </p>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Menstrual Cycle */}\r\n          {gender === 'F' && (\r\n            <section className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n              <h2 className=\"text-xl font-semibold mb-6 text-gray-800\">\r\n                üìÖ Menstrual Cycle (Optional)\r\n              </h2>\r\n\r\n              <div className=\"space-y-4\">\r\n                <label className=\"flex items-center cursor-pointer\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    {...register('has_menstrual_cycle')}\r\n                    className=\"mr-3 w-5 h-5\"\r\n                  />\r\n                  <span className=\"text-gray-700\">\r\n                    Track menstrual cycle (helps improve predictions)\r\n                  </span>\r\n                </label>\r\n\r\n                {hasMenstrualCycle && (\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Start date of last period\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      {...register('cycle_start_day')}\r\n                      className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Submit Button */}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-5 rounded-lg font-bold text-xl hover:from-blue-700 hover:to-purple-700 transition shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {isSubmitting ? 'Creating Profile...' : 'Create Profile ‚Üí'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"text-center mt-6\">\r\n          <button\r\n            onClick={() => router.push('/')}\r\n            className=\"text-blue-600 hover:text-blue-700 underline\"\r\n          >\r\n            ‚Üê Back to Home\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;AAI1B;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,SAAS,IAAA,6NAAS;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,oPAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oPAAQ,EAAgB;IAElD,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,IAAA,uPAAO,EAAC;QACjF,eAAe;YACb,QAAQ;YACR,KAAK;YACL,QAAQ;YACR,QAAQ;YACR,mBAAmB;YACnB,eAAe;YACf,qBAAqB;YACrB,iBAAiB;QACnB;IACF;IAEA,MAAM,SAAS,MAAM;IACrB,MAAM,SAAS,MAAM;IACrB,MAAM,SAAS,MAAM;IACrB,MAAM,oBAAoB,MAAM;IAEhC,gBAAgB;IAChB,MAAM,MAAM,UAAU,SAAS,CAAC,SAAU,CAAC,SAAS,GAAG,KAAK,CAAE,EAAE,OAAO,CAAC,KAAK;IAE7E,MAAM,WAAW,OAAO;QACtB,gBAAgB;QAChB,SAAS;QAET,IAAI;YACF,MAAM,UAAU;gBACd,QAAQ,KAAK,MAAM;gBACnB,KAAK,SAAS,KAAK,GAAG;gBACtB,QAAQ,WAAW,KAAK,MAAM;gBAC9B,QAAQ,WAAW,KAAK,MAAM;gBAC9B,KAAK,WAAW;gBAChB,mBAAmB,SAAS,KAAK,iBAAiB;gBAClD,eAAe,KAAK,aAAa;gBACjC,qBAAqB,KAAK,mBAAmB;gBAC7C,iBAAiB,KAAK,mBAAmB,IAAI,KAAK,eAAe,GAC7D,KAAK,eAAe,GACpB;YACN;YAEA,QAAQ,GAAG,CAAC,+BAA+B;YAE3C,MAAM,WAAW,MAAM,qMAAS,CAAC,gBAAgB,CAAC;YAElD,gCAAgC;YAChC,IAAI,SAAS,OAAO,EAAE;gBACpB,aAAa,OAAO,CAAC,WAAW,SAAS,OAAO;gBAChD,MAAM;gBACN,OAAO,IAAI,CAAC;YACd;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,SACE,IAAI,QAAQ,EAAE,MAAM,WAClB;QAEN,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,wQAAC;QAAI,WAAU;kBACb,cAAA,wQAAC;YAAI,WAAU;;8BAEb,wQAAC;oBAAI,WAAU;;sCACb,wQAAC;4BAAG,WAAU;sCAAqG;;;;;;sCAGnH,wQAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;gBAMtC,uBACC,wQAAC;oBAAI,WAAU;8BACZ;;;;;;8BAKL,wQAAC;oBAAK,UAAU,aAAa;oBAAW,WAAU;;sCAEhD,wQAAC;4BAAQ,WAAU;;8CACjB,wQAAC;oCAAG,WAAU;8CAA2C;;;;;;8CAIzD,wQAAC;oCAAI,WAAU;;sDAEb,wQAAC;;8DACC,wQAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,wQAAC;oDAAI,WAAU;;sEACb,wQAAC;4DAAM,WAAU;;8EACf,wQAAC;oEACC,MAAK;oEACL,OAAM;oEACL,GAAG,SAAS,UAAU;wEAAE,UAAU;oEAAK,EAAE;oEAC1C,WAAU;;;;;;8EAEZ,wQAAC;8EAAK;;;;;;;;;;;;sEAER,wQAAC;4DAAM,WAAU;;8EACf,wQAAC;oEACC,MAAK;oEACL,OAAM;oEACL,GAAG,SAAS,UAAU;wEAAE,UAAU;oEAAK,EAAE;oEAC1C,WAAU;;;;;;8EAEZ,wQAAC;8EAAK;;;;;;;;;;;;;;;;;;;;;;;;sDAMZ,wQAAC;;8DACC,wQAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,wQAAC;oDACC,MAAK;oDACJ,GAAG,SAAS,OAAO;wDAAE,UAAU;wDAAM,KAAK;wDAAG,KAAK;oDAAI,EAAE;oDACzD,WAAU;oDACV,aAAY;;;;;;;;;;;;sDAKhB,wQAAC;;8DACC,wQAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,wQAAC;oDACC,MAAK;oDACJ,GAAG,SAAS,UAAU;wDAAE,UAAU;wDAAM,KAAK;wDAAI,KAAK;oDAAI,EAAE;oDAC7D,WAAU;oDACV,aAAY;;;;;;;;;;;;sDAKhB,wQAAC;;8DACC,wQAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,wQAAC;oDACC,MAAK;oDACJ,GAAG,SAAS,UAAU;wDAAE,UAAU;wDAAM,KAAK;wDAAI,KAAK;oDAAI,EAAE;oDAC7D,WAAU;oDACV,aAAY;;;;;;;;;;;;sDAKhB,wQAAC;4CAAI,WAAU;sDACb,cAAA,wQAAC;gDAAE,WAAU;;oDAAwB;kEACnB,wQAAC;wDAAK,WAAU;kEAAuC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAO/E,wQAAC;4BAAQ,WAAU;;8CACjB,wQAAC;oCAAG,WAAU;8CAA2C;;;;;;8CAIzD,wQAAC;;sDACC,wQAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,wQAAC;4CACC,MAAK;4CACJ,GAAG,SAAS,qBAAqB;gDAAE,UAAU;gDAAM,KAAK;4CAAE,EAAE;4CAC7D,WAAU;4CACV,aAAY;;;;;;;;;;;;;;;;;;sCAMlB,wQAAC;4BAAQ,WAAU;;8CACjB,wQAAC;oCAAG,WAAU;8CAA2C;;;;;;8CAIzD,wQAAC;;sDACC,wQAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,wQAAC;4CACC,MAAK;4CACJ,GAAG,SAAS,iBAAiB;gDAAE,UAAU;4CAAK,EAAE;4CACjD,WAAU;4CACV,aAAY;;;;;;sDAEd,wQAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;;;;;;;wBAO7C,WAAW,qBACV,wQAAC;4BAAQ,WAAU;;8CACjB,wQAAC;oCAAG,WAAU;8CAA2C;;;;;;8CAIzD,wQAAC;oCAAI,WAAU;;sDACb,wQAAC;4CAAM,WAAU;;8DACf,wQAAC;oDACC,MAAK;oDACJ,GAAG,SAAS,sBAAsB;oDACnC,WAAU;;;;;;8DAEZ,wQAAC;oDAAK,WAAU;8DAAgB;;;;;;;;;;;;wCAKjC,mCACC,wQAAC;;8DACC,wQAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,wQAAC;oDACC,MAAK;oDACJ,GAAG,SAAS,kBAAkB;oDAC/B,WAAU;;;;;;;;;;;;;;;;;;;;;;;;sCAStB,wQAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,eAAe,wBAAwB;;;;;;;;;;;;8BAI5C,wQAAC;oBAAI,WAAU;8BACb,cAAA,wQAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAOX;GA3QwB;;QACP,6NAAS;QAImD,uPAAO;;;KAL5D"}}]
}